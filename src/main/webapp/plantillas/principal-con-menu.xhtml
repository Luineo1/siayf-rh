<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	template="/primefaces-folf-modena/plantillas/secundaria.xhtml">

	<ui:param name="numeroNotificaciones" value="0" />

	<ui:define name="menuNotificacionesEncabezado">
		<h2>Notificaciones</h2>
	</ui:define>
	<ui:define name="menuNotificacionesContenido">
		<div class="notificacion-item">
			<p>No hay notificaciones nuevas</p>
		</div>
	</ui:define>
	<ui:define name="menuNotificacionesPie">
		<h:form id="frmNotificaciones">
			<ui:remove>
				<!-- 
                    Eliminado porque hace que la aplicación sea inestable.
                    TODO: Optimizar funcionalidad.
                -->
				<p:poll widgetVar="pollWV"
					listener="#{notificacionController.llenarNotificaciones}"
					update="frmNotificaciones" onerror="PF('pollWV').stop();"
					process="frmNotificaciones" global="false" timeout="50000"
					ignoreAutoUpdate="true" partialSubmit="true" />
			</ui:remove>
			<p:commandButton title="Actualizar" icon="ui-icon-refresh"
				actionListener="#{notificacionController.llenarNotificaciones}"
				styleClass="fm-btn-inverso" />
		</h:form>
	</ui:define>

	<ui:define name="menuPrincipal">
		<h:form id="menuPrincipal">
			<p:menu>
				<p:menuitem value="Inicio"
					action="/contenido/inicio.xhtml?faces-redirect=true"
					icon="ui-icon-home" />
			</p:menu>

			<p:panelMenu stateful="false">

				<p:submenu label="Catalogos" icon="ui-icon-folder-empty"
					rendered="false">
					<p:menuitem value="web services" icon="fm-icon-user-plus"
						ajax="false"
						url="/contenido/catalogos/catalogosWs.xhtml.xhtml?faces-redirect=true" />

				</p:submenu>

				<p:submenu label="Bolsa de Trabajo">
					<p:menuitem value="Registro Aspirante"
						url="/contenido/bolsaTrabajo/registroAspirante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
					<p:menuitem value="Actualización Aspirante"
						url="/contenido/bolsaTrabajo/actualizarAspirante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
					<p:menuitem value="Consulta Aspirante"
						url="/contenido/bolsaTrabajo/consultaAspirante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
					<p:menuitem value="Administración de expediente"
						url="/contenido/bolsaTrabajo/administracionExpediente.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Puestos Secretaría">
					<p:menuitem value="Solicitud Creación Puesto"
						url="/contenido/vacantes/solicitudApertura.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Programas Federales"
						url="/contenido/vacantes/programasFederales.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Postulación Vacante"
						url="/contenido/vacantes/postulacionVacante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Aprobación Candidato"
						url="/contenido/vacantes/aprobacionCandidato.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Inventario Puestos Autorizados"
						url="/contenido/vacantes/inventarioPuestos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Notificaciones">
					<p:menuitem value="Mi Buzón"
						url="/contenido/notificaciones/miBuzon.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Empleados">

					<p:menuitem value=" Empleado"
						url="/contenido/empleado/altaEmpleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
					<p:menuitem value="Modificación Datos Laborales Empleado"
						url="/contenido/empleado/modificacionLaboral.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Estructuras Contratos"
						url="/contenido/empleado/estructuraContratos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración Área Trabajo"
						url="/contenido/empleado/configuracionAreaTrabajo.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración Dependientes económicos"
						url="/contenido/empleado/dependienteEconomico.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Actualizar Empleado"
						url="/contenido/empleado/actualizarEmpleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Corrección Información"
						url="/contenido/empleado/correccionInformacion.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración expediente"
						url="/contenido/empleado/administracionExpediente.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta Empleado"
						url="/contenido/empleado/consultaEmpleado.xhtml?faces-redirect=true"
						ajax="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos al Personal"
						url="/contenido/empleado/movimientosPersonal.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta Movimientos"
						url="/contenido/empleado/consultaMovimientos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Impresión Contrato" rendered="false"
						url="/contenido/empleado/impresionContrato.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Impresión Nombramiento" rendered="false"
						url="/contenido/empleado/impresionNombramiento.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Filiación"
						url="/contenido/empleado/formatoFiliacion.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Solicitud Interinatos"
						url="/contenido/empleado/interinatos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Seguro de Vida Institucional"
						url="/contenido/reportesLaborales/reporteSeguroVida.xhtml"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración Movimientos ISSSTE"
						url="/contenido/reportesLaborales/administracionMovimientoIssste.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

				</p:submenu>

				<p:submenu label="Suplencias">
					<p:menuitem value=" Activación Quincena"
						url="/contenido/suplencias/activacionQuincena.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value=" Habilitación Suplentes"
						url="/contenido/suplencias/habilitacionSuplente.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Alta Suplencias"
						url="/contenido/suplencias/altaSuplencia.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Revisión Suplencias"
						url="/contenido/suplencias/revisionSuplencia.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Cierre Suplencias"
						url="/contenido/suplencias/cierreSuplencia.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta Suplencias"
						url="/contenido/suplencias/consultaSuplencias.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Vacaciones e incapacidades"
						url="/contenido/suplencias/movimientosSuplentes.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reporte Causal Global"
						url="/contenido/suplencias/reporteCausalGlobal.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Voluntarios">
					<p:menuitem value="Alta Voluntario"
						url="/contenido/voluntarios/altaVoluntarios.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta Voluntario"
						url="/contenido/voluntarios/consultaVoluntarios.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Control Asistencia">
					<p:menuitem value="Catálogo Incidencias"
						url="/contenido/controlasistencia/catalogo/incidencia/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Catálogo Jornadas"
						url="/contenido/controlasistencia/catalogo/jornada/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Asignar horario"
						url="/contenido/controlasistencia/empleado/horario/agregarHorario.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Incidencia Empleado"
						url="/contenido/controlasistencia/empleado/incidencia/agregar.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Horas Pase Salida"
						url="/contenido/controlasistencia/empleado/incidencia/horaspasesalida.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reportes por empleado"
						url="/contenido/controlasistencia/empleado/horasextraporempleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reporte Ausentismo"
						url="/contenido/controlasistencia/empleado/reporte_ausentismo.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reportes de control de asistencia"
						url="/contenido/controlasistencia/empleado/reportes.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Descargar Información Empleado"
						url="/contenido/controlasistencia/biometrico/descargarInformacionEmpleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Catalogo Biométricos"
						url="/contenido/controlasistencia/catalogo/biometrico/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Catalogo Clientes UM"
						url="/contenido/controlasistencia/catalogo/cliente/clientesBiometricos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Nómina">
					<p:menuitem value="Producto Nómina"
						action="/contenido/nomina/productos/productoNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Pensiones"
						action="/contenido/nomina/pensionaalimenticia/index.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos Contratos"
						url="/contenido/nomina/movimientosContratos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos Federales"
						url="/contenido/nomina/movimientos/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Programar Movimientos"
						url="/contenido/nomina/movimientos/programarMovimientosNomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consultar Conceptos Empleado"
						url="/contenido/nomina/movimientos/consultaConceptosEmpleadoBase.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos Fijos" rendered="false"
						url="/contenido/nomina/movimientosFijos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar CFDI"
						url="/contenido/nomina/importarxml.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar Constancia"
						url="/contenido/nomina/importarConstancia.xhtml?faces-redirect=true"
						ajax="false" rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Acumulados"
						url="/contenido/acumulados/acumulados.xhtml?faces-redirect=true"
						ajax="false" rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar Nomina"
						url="/contenido/acumulados/importarNomina.xhtml?faces-redirect=true"
						ajax="false" rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Timbrar Productos Nomina"
						url="/contenido/nomina/TimbradoProductoNomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />


					<p:menuitem value="Historial de Pagos"
						url="/contenido/nomina/historialPago.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Reportes Laborales">
					<p:menuitem value="Administrador Reporte Movimiento Empleado"
						rendered="false" icon="fm-icon-circle-empty"
						url="/contenido/reportesLaborales/reporteMovimientoEmpleado.xhtml?faces-redirect=true" />

					<p:menuitem value="Reporte Suplencia" rendered="true"
						icon="fm-icon-circle-empty"
						url="/contenido/reportesLaborales/reporteSuplencias.xhtml?faces-redirect=true" />
				</p:submenu>

				<p:submenu label="SIIF">
					<p:menuitem value="Reportar SIIF" icon="fm-icon-circle-empty"
						url="/contenido/siifrh/reportarSiif.xhtml?faces-redirect=true" />

					<p:menuitem value="Consulta Nómina"
						url="/contenido/siifrh/consultaNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta Personal"
						url="/contenido/siifrh/consultaDatosPersonales.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Módulo SIIF">
					<p:menuitem value="Reportar SIIF" icon="fm-icon-circle-empty"
						url="/contenido/siif/reportarSiif.xhtml?faces-redirect=true" />

					<p:menuitem value="Consulta Nómina"
						url="/contenido/siif/consultaNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta Personal"
						url="/contenido/siif/consultaDatosPersonales.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar Plantillas Siif"
						url="/contenido/siif/reportarsiifseguropopular.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Reportes Dat y Tra" icon="fm-icon-circle-empty"
						url="/contenido/siif/reporteDatTra.xhtml?faces-redirect=true" />
				</p:submenu>

				<p:submenu label="Presupuesto">
					<p:menuitem value="Consultar Partidas" icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/consultarPartidas.xhtml?faces-redirect=true" />

					<p:menuitem value="Proyecciones" icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/proyeccionesPresupuestales.xhtml?faces-redirect=true" />

					<p:menuitem value="Presupuesto Autorizado"
						icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/presupuestoAutorizado.xhtml?faces-redirect=true" />

					<!-- 					<p:menuitem value="Calendario Global" -->
					<!-- 						url="/contenido/configuracion/calendarioGlobal.xhtml?faces-redirect=true" -->
					<!-- 						ajax="false" icon="fm-icon-circle-empty" /> -->

					<p:menuitem value="Presupuesto Calendario"
						url="/contenido/configuracion/presupuestoCalendario.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Seguridad" rendered="false">
					<p:menuitem value="Usuario"
						url="/contenido/usuarios/usuario.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-user" />
				</p:submenu>

				<p:submenu label="Configuración">

					<p:menuitem value="Puesto General"
						url="/contenido/configuracion/puestoGeneral.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Tabuladores Salarios"
						action="/contenido/configuracion/tabulador.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Nombramientos"
						url="/contenido/configuracion/nombramiento.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Fuentes de Financiamiento"
						action="/contenido/configuracion/fuenteFinanciamiento.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Subfuentes de Financiamiento"
						action="/contenido/configuracion/subfuenteFinanciamiento.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Dependencias"
						action="/contenido/configuracion/dependencia.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Unidad Responsable"
						action="/contenido/configuracion/unidadResponsable.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Centro de Responsabilidad"
						action="/contenido/configuracion/centroResponsabilidad.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración Aprobaciones"
						action="/contenido/configuracion/configuracionAprobaciones.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Áreas"
						action="/contenido/areas/area.xhtml?faces-redirect=false"
						rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Áreas Adscripción"
						action="/contenido/areas/areasAdscripcion.xhtml?faces-redirect=true"
						rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Bancos"
						action="/contenido/configuracion/banco.xhtml?faces-redirect=true"
						rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuracion Quinquenios"
						action="/contenido/configuracion/configuracionQuinquenios.xhtml?faces-redirect=true"
						rendered="true" icon="fm-icon-circle-empty" />
					<p:menuitem value="Conceptos Especiales"
						action="/contenido/configuracion/conceptosEspeciales.xhtml?faces-redirect=true"
						rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuracion de  Movimientos Nomina"
						action="/contenido/nomina/configuracionTipoMovimiento/configuracionTipoMovimientoNomina.xhtml?faces-redirect=true"
						rendered="true" icon="fm-icon-circle-empty" />

					<p:separator />

					<p:menuitem value="Percepciones y Deducciones"
						url="/contenido/configuracion/conceptosnomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Ejercicios Fiscales"
						action="/contenido/configuracion/ejercicioFiscal.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Tablas ISR"
						action="/contenido/configuracion/tablaSubsidioRetencion.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Fuentes de Financiamiento OPD"
						action="/contenido/configuracion/fuenteFinanciamientoOPD.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Terceros Institucionales"
						action="/contenido/configuracion/terceroInstitucional.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Tipos de Nómina"
						action="/contenido/configuracion/tipoNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Clasificación de Nómina"
						action="/contenido/configuracion/clasificacionNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Riesgo Puesto"
						url="/contenido/configuracion/riesgoPuesto.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Cuentas Bancarias"
						action="/contenido/configuracion/cuentaBancaria.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Salario Minimo"
						action="/contenido/configuracion/salariosMinimos.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:separator />

					<p:menuitem value="Conceptos de nomina de Empleados de contratos"
						url="/contenido/configuracion/conceptosnominacontratos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Firmas"
						url="/contenido/configuracion/firma.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:separator />



				</p:submenu>

				<p:submenu label="Seguridad">
					<p:menuitem value="Areas"
						action="/contenido/seguridad/administracionAreas.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty">
						<f:param name="i" value="0" />
					</p:menuitem>

					<p:menuitem value="Acciones"
						action="/contenido/seguridad/acciones.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty">
						<f:param name="i" value="1" />
					</p:menuitem>

					<p:menuitem value="Modulos"
						action="/contenido/seguridad/modulos.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty">
						<f:param name="i" value="2" />
					</p:menuitem>

					<p:menuitem value="Usuarios"
						action="/contenido/usuarios/usuario.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty">
						<f:param name="i" value="3" />
					</p:menuitem>

					<p:menuitem value="Configuracion Modulos-Acciones"
						action="/contenido/seguridad/configuracionModuloAccion.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuracion Modulos-Usuarios"
						action="/contenido/seguridad/configuracionModuloUsuario.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración Modulos"
						action="/contenido/seguridad/administracionModulo/administracionModulo.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración Modulos-Acciones"
						action="/contenido/seguridad/configuracionModuloAccion/index.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

				</p:submenu>
			</p:panelMenu>
		</h:form>
	</ui:define>

	<ui:define name="tareasUsuario">
		<h:form id="frmInfo">
			<p:ajaxExceptionHandler update="exceptionDialog"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 1);" />

			<p:ajaxExceptionHandler update="businessExceptionDialog"
				type="mx.gob.saludtlax.rh.excepciones.BusinessException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 2);" />

			<p:ajaxExceptionHandler update="businessExceptionDialog"
				type="mx.gob.saludtlax.rh.excepciones.ReglaNegocioException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 3);" />

			<p:ajaxExceptionHandler update="businessExceptionDialog"
				type="javax.el.ELException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 3);" />

			<p:ajaxExceptionHandler update="viewExpiredExceptionDialog"
				type="javax.faces.application.ViewExpiredException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 4);" />

			<p:dialog id="exceptionDialog"
				header="El sistema no puede completar la acción porque..."
				widgetVar="exceptionDialogWV" height="500px" modal="true"
				closable="true">
				<p:outputLabel value="Razón:" />
				<h:outputText value="#{pfExceptionHandler.message}" />
				<br />
				<p:graphicImage library="imagenes" name="error_no_controlado.png"
					alt="Error no controlado" />
			</p:dialog>

			<p:dialog id="businessExceptionDialog"
				header="El sistema no puede completar la acción porque..."
				widgetVar="businessExceptionDialogWV" height="500px" modal="true"
				closable="true">
				<p:outputLabel value="Razón:" />
				<h:outputText value="#{pfExceptionHandler.message}" />
				<br />
				<p:graphicImage library="imagenes" name="error_no_controlado.png"
					alt="Error no controlado" />
			</p:dialog>

			<p:dialog id="viewExpiredExceptionDialog"
				header="La sesión ha caducado."
				widgetVar="viewExpiredExceptionDialogWV" height="500px" modal="true"
				closable="true"
				onHide="document.location.href = document.location.href;">
				<p:outputLabel value="Razón:" />
				<h:outputText
					value="La página debe volver a cargarse porque la sesión ha caducado." />
				<br />
				<p:graphicImage library="imagenes" name="error_sesion.png"
					alt="Error no controlado" />

				<f:facet name="footer">
					<p:button
						onclick="document.location.href = document.location.href;"
						value="Volver a cargar" />
				</f:facet>
			</p:dialog>

			<p:dialog id="perfilInfo" header="Perfil de Usuario"
				widgetVar="infoPerfil" height="300px" width="50%" modal="true"
				closable="true">
				<p:panelGrid id="infoPerfilGrid" layout="grid"
					styleClass="ui-panelgrid-blank ui-fluid" columns="5"
					columnClasses="ui-grid-col-3, ui-grid-col-2">

					<p:outputLabel value="UserName:" />
					<h:outputText value="#{usuario.usuarioEnSession.userName}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Nombre:" />
					<h:outputText value="#{usuario.usuarioEnSession.nombre}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Apellido Paterno:" />
					<h:outputText value="#{usuario.usuarioEnSession.apellidoPaterno}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Apellido Materno:" />
					<h:outputText value="#{usuario.usuarioEnSession.apellidoMaterno}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Correo Electrónico:" />
					<h:outputText value="#{usuario.usuarioEnSession.correo}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Cargo:" />
					<h:outputText value="#{usuario.usuarioEnSession.cargo}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Fecha Alta:" />
					<h:outputText value="#{usuario.usuarioEnSession.fechaAlta}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Área de adscripción:" />
					<h:outputText
						value="#{usuario.usuarioEnSession.areaAdscripcionDescripcion}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Lugar de adscripción:" />
					<h:outputText
						value="#{usuario.usuarioEnSession.lugarAdscripcionDescripcion}" />
					<p:spacer />
					<p:spacer />
					<p:spacer />
					<p:outputLabel value="Id de adscripción:" />
					<h:outputText
						value="#{usuario.usuarioEnSession.adscripcionDescripcion}" />
					<p:spacer />
					<p:spacer />

					<p:commandButton id="cambiarPassword" value="Cambiar contraseña"
						update="menuPrincipal" action="#{usuario.irCambioContrasenya()}"
						ajax="false" />

				</p:panelGrid>
			</p:dialog>

			<h:outputScript target="body">
function notificarExcepcion(type, message, formattedStackTrace, formattedTimestamp, dialog){

    switch(dialog){
        case 1:
            PF('exceptionDialogWV').show();
            break;
        case 2:
        case 3:
            PF('businessExceptionDialogWV').show();
            break;
        case 4:
            PF('viewExpiredExceptionDialogWV').show();
            break;
    }

    $.post('#{request.contextPath}/notificador-de-error',
            {
                he  : true,
                tp  : type,
                msg : message,
                st  : formattedStackTrace,
                et  : formattedTimestamp
            },
            null);
}
            </h:outputScript>
		</h:form>
	</ui:define>

	<ui:define name="menuTareasUsuario">
		<h:form id="menuUsuarioForm">
			<p:menu>
				<p:menuitem value="Perfil" onclick="PF('infoPerfil').show()"
					icon="ui-icon-person" />
				<p:menuitem value="Cerrar sesión"
					url="/contenido/seguridad/logout.xhtml"
					onclick="PF('pollWV').stop()" icon="ui-icon-locked" />
			</p:menu>
		</h:form>
	</ui:define>

	<ui:define name="bodyExtra">
		<h:outputScript target="body">
function mymessages() {
    setTimeout(function() { $('[id$=messages_generales]').hide(200); }, 5500);
}

function mymessagesTable() {
    setTimeout(function() { $('[id$=messagesTable]').hide(200); }, 5500);
}

function scrollToAnchor() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=messages_generales]').offset().left
    }, 100);
}
function scrollToAnchorVisualizar() {
    jQuery('html, body').animate({
            scrollTop:  $('[id$=visualizarDoc]').offset().top
        }, 100);
}

function scrollToAnchorPanelNuevo() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=irPanelNuevo]').offset().top
    }, 100);
}

function scrollToAnchorPanelActualizar() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=irPanelActualizar]').offset().top
    }, 100);
}

function scrollToAnchorPanel() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=irPanel]').offset().top
    }, 100);
}

/**
 * Este método permite cambiar el foco de un inputText al siguiente después de 
 * haber presionado la tecla "Enter".
 * url: http://stackoverflow.com/questions/1009808/enter-key-press-behaves-like-a-tab-in-javascript
 */
$('body').on('keydown', 'input, select, textarea', function(e) {
    var self = $(this),
        form = self.parents('form:eq(0)'),
        focusable,
        next,
        prev;

    if (e.shiftKey) {
        if (e.keyCode == 13) {
            focusable =   form.find('input,a,select,button,textarea').filter(':visible');
            prev = focusable.eq(focusable.index(this)-1); 

            if (prev.length) {
                prev.focus();
            } else {
                form.submit();
            }
        }
    } else if (e.keyCode == 13) {
        focusable = form.find('input,a,select,button,textarea').filter(':visible');
        next = focusable.eq(focusable.index(this)+1);
        if (next.length) {
            next.focus();
        } else {
            form.submit();
        }
        return false;
    }
});

$(document).ready(function() {

    // Después de que la página carga se abre el menú automáticamente 
    // si es un dipositivo mobile no se abrirá
    if(!ThemeFM2.isMobile()) {
        ThemeFM2.toggleSidebarButton();
    }
});
        </h:outputScript>

		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<p:outputLabel value="Procesando..." />
			<br />
			<p:graphicImage library="imagenes" name="load.gif" />
		</p:dialog>
	</ui:define>

	<ui:param name="pieDesarrollo" value="FOLF Asesores" />
	<ui:param name="pieVersion" value="0.0.1" />
</ui:composition>
