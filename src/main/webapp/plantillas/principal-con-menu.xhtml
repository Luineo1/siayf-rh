<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	template="/primefaces-siayf-modena/plantillas/secundaria.xhtml">

	<ui:param name="numeroNotificaciones" value="0" />

	<ui:define name="menuNotificacionesEncabezado">
		<h2>Notificaciones</h2>
	</ui:define>
	<ui:define name="menuNotificacionesContenido">
		<div class="notificacion-item">
			<p>No hay notificaciones nuevas</p>
		</div>
	</ui:define>
	<ui:define name="menuNotificacionesPie">
		<h:form id="frmNotificaciones">
			<ui:remove>
				<!-- 
                    Eliminado porque hace que la aplicación sea inestable.
                    TODO: Optimizar funcionalidad.
                -->
				<p:poll widgetVar="pollWV"
					listener="#{notificacionController.llenarNotificaciones}"
					update="frmNotificaciones" onerror="PF('pollWV').stop();"
					process="frmNotificaciones" global="false" timeout="50000"
					ignoreAutoUpdate="true" partialSubmit="true" />
			</ui:remove>
			<p:commandButton title="Actualizar" icon="ui-icon-refresh"
				actionListener="#{notificacionController.llenarNotificaciones}"
				styleClass="fm-btn-inverso" />
		</h:form>
	</ui:define>

	<ui:define name="menuPrincipal">
		<h:form id="menuPrincipal">
			<p:menu>
				<p:menuitem value="Inicio"
					action="/contenido/inicio.xhtml?faces-redirect=true"
					icon="ui-icon-home" />
			</p:menu>

			<p:panelMenu stateful="false">

				<p:submenu label="Catalogos" icon="ui-icon-folder-empty"
					rendered="false">
					<p:menuitem value="web services" icon="fm-icon-user-plus"
						ajax="false"
						url="/contenido/catalogos/catalogosWs.xhtml.xhtml?faces-redirect=true" />

				</p:submenu>

				<p:submenu label="Bolsa de trabajo">
					<p:menuitem value="Registro de aspirante"
						url="/contenido/bolsaTrabajo/registroAspirante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Actualización de aspirante"
						url="/contenido/bolsaTrabajo/actualizarAspirante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

                                        <p:menuitem value="Consulta de aspirante"
						url="/contenido/bolsaTrabajo/consultaAspirante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

                                        <p:menuitem value="Administración de expediente"
						url="/contenido/bolsaTrabajo/administracionExpediente.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Puestos de la secretaría">
					<p:menuitem value="Solicitud de creación de puesto"
						url="/contenido/vacantes/solicitudApertura.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Programas"
						url="/contenido/vacantes/programasFederales.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Postulación de vacante"
						url="/contenido/vacantes/postulacionVacante.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Aprobación de candidato"
						url="/contenido/vacantes/aprobacionCandidato.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Inventario de puestos autorizados"
						url="/contenido/vacantes/inventarioPuestos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Notificaciones">
					<p:menuitem value="Mi buzón"
						url="/contenido/notificaciones/miBuzon.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Empleados">

					<p:menuitem value=" Empleado"
						url="/contenido/empleado/altaEmpleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Modificación de datos laborales del empleado"
						url="/contenido/empleado/modificacionLaboral.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Estructuras de contratos"
						url="/contenido/empleado/estructuraContratos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Estructura de nómina"
						url="/contenido/empleado/estructuraNomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración del área de trabajo"
						url="/contenido/empleado/configuracionAreaTrabajo.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración de dependientes económicos"
						url="/contenido/empleado/dependienteEconomico.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Actualizar empleado"
						url="/contenido/empleado/actualizarEmpleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Corrección de información"
						url="/contenido/empleado/correccionInformacion.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración de expediente"
						url="/contenido/empleado/administracionExpediente.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta de empleado"
						url="/contenido/empleado/consultaEmpleado.xhtml?faces-redirect=true"
						ajax="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos al personal"
						url="/contenido/empleado/movimientosPersonal.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta de movimientos"
						url="/contenido/empleado/consultaMovimientos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Impresión de contrato" rendered="false"
						url="/contenido/empleado/impresionContrato.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Impresión de nombramiento" rendered="false"
						url="/contenido/empleado/impresionNombramiento.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Filiación"
						url="/contenido/empleado/formatoFiliacion.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Solicitud de interinatos"
						url="/contenido/empleado/interinatos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Seguro de vida institucional"
						url="/contenido/reportesLaborales/reporteSeguroVida.xhtml"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Administración de movimientos del ISSSTE"
						url="/contenido/reportesLaborales/administracionMovimientoIssste.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

				</p:submenu>

				<p:submenu label="Suplencias">
					<p:menuitem value=" Activación  de quincena"
						url="/contenido/suplencias/activacionQuincena.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value=" Habilitación de suplentes"
						url="/contenido/suplencias/habilitacionSuplente.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Alta de suplencias"
						url="/contenido/suplencias/altaSuplencia.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Revisión de suplencias"
						url="/contenido/suplencias/revisionSuplencia.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Cierre de suplencias"
						url="/contenido/suplencias/cierreSuplencia.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta de suplencias"
						url="/contenido/suplencias/consultaSuplencias.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Vacaciones e incapacidades"
						url="/contenido/suplencias/movimientosSuplentes.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reporte causal global"
						url="/contenido/suplencias/reporteCausalGlobal.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Voluntarios">
					<p:menuitem value="Alta de voluntarios"
						url="/contenido/voluntarios/altaVoluntarios.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta de voluntarios"
						url="/contenido/voluntarios/consultaVoluntarios.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Control de asistencia">
				
				<p:menuitem value="Actualizar asistencias"
						url="/contenido/controlasistencia/empleado/actualizarAsistencias.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				
					<p:menuitem value="Catálogo de incidencias"
						url="/contenido/controlasistencia/catalogo/incidencia/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Catálogo de jornadas"
						url="/contenido/controlasistencia/catalogo/jornada/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Asignar horario"
						url="/contenido/controlasistencia/empleado/horario/agregarHorario.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Incidencia del empleado"
						url="/contenido/controlasistencia/empleado/incidencia/agregar.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Horas del pase de salida"
						url="/contenido/controlasistencia/empleado/incidencia/horaspasesalida.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reportes por empleado"
						url="/contenido/controlasistencia/empleado/horasextraporempleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reporte de ausentismo"
						url="/contenido/controlasistencia/empleado/reporte_ausentismo.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Reportes de control de asistencia"
						url="/contenido/controlasistencia/empleado/reportes.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Descargar información del empleado"
						url="/contenido/controlasistencia/biometrico/descargarInformacionEmpleado.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Catálogos biométricos"
						url="/contenido/controlasistencia/catalogo/biometrico/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Catálogo Clientes UM"
						url="/contenido/controlasistencia/catalogo/cliente/clientesBiometricos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Nómina">
					<p:menuitem value="Producto de nómina"
						action="/contenido/nomina/productos/productoNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Pensiones"
						action="/contenido/nomina/pensionaalimenticia/index.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos de contratos"
						url="/contenido/nomina/movimientosContratos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos federales"
						url="/contenido/nomina/movimientos/index.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Programar movimientos"
						url="/contenido/nomina/movimientos/programarMovimientosNomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Consultar conceptos del empleado"
						url="/contenido/nomina/movimientos/consultaConceptosEmpleadoBase.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Movimientos fijos" rendered="false"
						url="/contenido/nomina/movimientosFijos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar CFDI"
						url="/contenido/nomina/importarxml.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar constancia"
						url="/contenido/nomina/importarConstancia.xhtml?faces-redirect=true"
						ajax="false" rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Acumulados"
						url="/contenido/acumulados/acumulados.xhtml?faces-redirect=true"
						ajax="false" rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar nómina"
						url="/contenido/acumulados/importarNomina.xhtml?faces-redirect=true"
						ajax="false" rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Timbrar productos de nómina"
						url="/contenido/nomina/TimbradoProductoNomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />


					<p:menuitem value="Historial de pagos"
						url="/contenido/nomina/historialPago.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Reportes laborales">
					<p:menuitem value="Administrador de reporte de movimiento del empleado"
						rendered="false" icon="fm-icon-circle-empty"
						url="/contenido/reportesLaborales/reporteMovimientoEmpleado.xhtml?faces-redirect=true" />

					<p:menuitem value="Reporte de suplencia" rendered="true"
						icon="fm-icon-circle-empty"
						url="/contenido/reportesLaborales/reporteSuplencias.xhtml?faces-redirect=true" />
				</p:submenu>

				<p:submenu label="SIIF">
					<p:menuitem value="Reportar SIIF" icon="fm-icon-circle-empty"
						url="/contenido/siifrh/reportarSiif.xhtml?faces-redirect=true" />

					<p:menuitem value="Consultar nómina"
						url="/contenido/siifrh/consultaNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta de personal"
						url="/contenido/siifrh/consultaDatosPersonales.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />
				</p:submenu>

				<p:submenu label="Módulo SIIF">
					<p:menuitem value="Reportar SIIF" icon="fm-icon-circle-empty"
						url="/contenido/siif/reportarSiif.xhtml?faces-redirect=true" />

					<p:menuitem value="Consultar nómina"
						url="/contenido/siif/consultaNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Consulta de personal"
						url="/contenido/siif/consultaDatosPersonales.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Importar plantillas SIIF"
						url="/contenido/siif/reportarsiifseguropopular.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Reportes dat y tra" icon="fm-icon-circle-empty"
						url="/contenido/siif/reporteDatTra.xhtml?faces-redirect=true" />
				</p:submenu>

				<p:submenu label="Presupuesto">
					<p:menuitem value="Consultar partidas" icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/consultarPartidas.xhtml?faces-redirect=true" />

					<p:menuitem value="Consultar por periodo" icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/consultarPeriodos.xhtml?faces-redirect=true" />

					<p:menuitem value="Proyecciones" icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/proyeccionesPresupuestales.xhtml?faces-redirect=true" />

					<p:menuitem value="Presupuesto autorizado"
						icon="fm-icon-circle-empty"
						url="/contenido/presupuesto/presupuestoAutorizado.xhtml?faces-redirect=true" />

					<!-- 					<p:menuitem value="Calendario Global" -->
					<!-- 						url="/contenido/configuracion/calendarioGlobal.xhtml?faces-redirect=true" -->
					<!-- 						ajax="false" icon="fm-icon-circle-empty" /> -->

					<p:menuitem value="Calendario presupuestal"
						url="/contenido/presupuesto/presupuestoCalendario.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Distribución presupuestal"
						url="/contenido/presupuesto/distribucionPresupuesto.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

				</p:submenu>

				<p:submenu label="Configuración">

					<p:menuitem value="Puesto general"
						url="/contenido/configuracion/puestoGeneral.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Tabuladores de salarios"
						action="/contenido/configuracion/tabulador.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Nombramientos"
						url="/contenido/configuracion/nombramiento.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Fuentes de financiamiento"
						action="/contenido/configuracion/fuenteFinanciamiento.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Subfuentes de financiamiento"
						action="/contenido/configuracion/subfuenteFinanciamiento.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Dependencias"
						action="/contenido/configuracion/dependencia.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Unidad responsable"
						action="/contenido/configuracion/unidadResponsable.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Centro de responsabilidad"
						action="/contenido/configuracion/centroResponsabilidad.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración de aprobaciones"
						action="/contenido/configuracion/configuracionAprobaciones.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Áreas"
						action="/contenido/areas/area.xhtml?faces-redirect=false"
						rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Áreas de adscripción"
						action="/contenido/areas/areasAdscripcion.xhtml?faces-redirect=true"
						rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Bancos"
						action="/contenido/configuracion/banco.xhtml?faces-redirect=true"
						rendered="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración de quinquenios"
						action="/contenido/configuracion/configuracionQuinquenios.xhtml?faces-redirect=true"
						rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Conceptos especiales"
						action="/contenido/configuracion/conceptosEspeciales.xhtml?faces-redirect=true"
						rendered="true" icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración de movimientos nómina"
						action="/contenido/nomina/configuracionTipoMovimiento/configuracionTipoMovimientoNomina.xhtml?faces-redirect=true"
						rendered="true" icon="fm-icon-circle-empty" />

					<p:separator />

					<p:menuitem value="Percepciones y deducciones"
						url="/contenido/configuracion/conceptosnomina.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Ejercicios fiscales"
						action="/contenido/configuracion/ejercicioFiscal.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Tablas ISR"
						action="/contenido/configuracion/tablaSubsidioRetencion.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Fuentes de financiamiento OPD"
						action="/contenido/configuracion/fuenteFinanciamientoOPD.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Terceros institucionales"
						action="/contenido/configuracion/terceroInstitucional.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Tipos de nómina"
						action="/contenido/configuracion/tipoNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Clasificación de nómina"
						action="/contenido/configuracion/clasificacionNomina.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Riesgo del puesto"
						url="/contenido/configuracion/riesgoPuesto.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Cuentas bancarias"
						action="/contenido/configuracion/cuentaBancaria.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Salario mínimo"
						action="/contenido/configuracion/salariosMinimos.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:separator />

					<p:menuitem value="Conceptos de nómina para empleados de contratos"
						url="/contenido/configuracion/conceptosnominacontratos.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:menuitem value="Firmas"
						url="/contenido/configuracion/firma.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-circle-empty" />

					<p:separator />



				</p:submenu>

				<p:submenu label="Seguridad" rendered="false">
					<p:menuitem value="Usuario"
						url="/contenido/usuarios/usuario.xhtml?faces-redirect=true"
						ajax="false" icon="fm-icon-user" />
				</p:submenu>

                                <p:submenu label="Seguridad">
					<p:menuitem value="Áreas"
						action="/contenido/seguridad/administracionAreas.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty">
						<f:param name="i" value="0" />
					</p:menuitem>

					<p:menuitem value="Usuarios"
						action="/contenido/usuarios/usuario.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty">
						<f:param name="i" value="3" />
					</p:menuitem>

					<p:menuitem value="Administración de modulos"
						action="/contenido/seguridad/administracionModulo/administracionModulo.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />

					<p:menuitem value="Configuración modulos-acciones"
						action="/contenido/seguridad/configuracionModuloAccion/index.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />


					<p:menuitem value="Configuración de usuarios"
						action="/contenido/seguridad/configuracionUsuario.xhtml?faces-redirect=true"
						icon="fm-icon-circle-empty" />


				</p:submenu>
			</p:panelMenu>
		</h:form>
	</ui:define>

	<ui:define name="tareasUsuario">
		<h:form id="frmInfo">
			<p:ajaxExceptionHandler update="exceptionDialog"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 1);" />

			<p:ajaxExceptionHandler update="businessExceptionDialog"
				type="mx.gob.saludtlax.rh.excepciones.BusinessException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 2);" />

			<p:ajaxExceptionHandler update="businessExceptionDialog"
				type="mx.gob.saludtlax.rh.excepciones.ReglaNegocioException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 3);" />

			<p:ajaxExceptionHandler update="businessExceptionDialog"
				type="javax.el.ELException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 3);" />

			<p:ajaxExceptionHandler update="viewExpiredExceptionDialog"
				type="javax.faces.application.ViewExpiredException"
				onexception="notificarExcepcion('#{pfExceptionHandler.type}', '#{pfExceptionHandler.message}', '#{pfExceptionHandler.formattedStackTrace}', '#{pfExceptionHandler.formattedTimestamp}', 4);" />

			<p:dialog id="exceptionDialog"
				header="El sistema no puede completar la acción porque..."
				widgetVar="exceptionDialogWV" height="500px" modal="true"
				closable="true">
				<p:outputLabel value="Razón:" />
				<h:outputText value="#{pfExceptionHandler.message}" />
				<br />
				<p:graphicImage library="imagenes" name="error_no_controlado.png"
					alt="Error no controlado" />
			</p:dialog>

			<p:dialog id="businessExceptionDialog"
				header="El sistema no puede completar la acción porque..."
				widgetVar="businessExceptionDialogWV" height="500px" modal="true"
				closable="true">
				<p:outputLabel value="Razón:" />
				<h:outputText value="#{pfExceptionHandler.message}" />
				<br />
				<p:graphicImage library="imagenes" name="error_no_controlado.png"
					alt="Error no controlado" />
			</p:dialog>

			<p:dialog id="viewExpiredExceptionDialog"
				header="La sesión ha caducado."
				widgetVar="viewExpiredExceptionDialogWV" height="500px" modal="true"
				closable="true"
				onHide="document.location.href = document.location.href;">
				<p:outputLabel value="Razón:" />
				<h:outputText
					value="La página debe volver a cargarse porque la sesión ha caducado." />
				<br />
				<p:graphicImage library="imagenes" name="error_sesion.png"
					alt="Error no controlado" />

				<f:facet name="footer">
					<p:button
                                            onclick="document.location.reload()"
						value="Volver a cargar" />
				</f:facet>
			</p:dialog>

			<p:dialog id="perfilInfo" header="Perfil de Usuario"
				widgetVar="infoPerfil" height="300px" width="50%" modal="true"
                                closable="true" responsive="true">
                            <p:panelGrid id="infoPerfilGrid" columns="2" layout="grid"
					styleClass="ui-panelgrid-blank ui-fluid"
					columnClasses="ui-grid-col-3, ui-grid-col-2">

					<p:outputLabel value="Nombre de usuario:" />
					<h:outputText value="#{usuario.usuarioEnSession.userName}" />
					
					<p:outputLabel value="Nombre:" />
					<h:outputText value="#{usuario.usuarioEnSession.nombre}" />
					
					<p:outputLabel value="Apellido paterno:" />
					<h:outputText value="#{usuario.usuarioEnSession.apellidoPaterno}" />
					
					<p:outputLabel value="Apellido materno:" />
					<h:outputText value="#{usuario.usuarioEnSession.apellidoMaterno}" />
					
					<p:outputLabel value="Correo electrónico:" />
					<h:outputText value="#{usuario.usuarioEnSession.correo}" />
					
					<p:outputLabel value="Cargo:" />
					<h:outputText value="#{usuario.usuarioEnSession.cargo}" />
					
					<p:outputLabel value="Fecha de alta:" />
					<h:outputText value="#{usuario.usuarioEnSession.fechaAlta}" />
					
					<p:outputLabel value="Área de adscripción:" />
					<h:outputText
						value="#{usuario.usuarioEnSession.areaAdscripcionDescripcion}" />
					
					<p:outputLabel value="Lugar de adscripción:" />
					<h:outputText
						value="#{usuario.usuarioEnSession.lugarAdscripcionDescripcion}" />
					
					<p:outputLabel value="ID de adscripción:" />
					<h:outputText
						value="#{usuario.usuarioEnSession.adscripcionDescripcion}" />

                                        <f:facet name="footer">
                                            <p:commandButton id="cambiarPassword" value="Cambiar contraseña"
                                                    update="menuPrincipal" action="#{usuario.irCambioContrasenya()}"
                                                    ajax="false" />
                                        </f:facet>

				</p:panelGrid>
			</p:dialog>

			<h:outputScript target="body">
function notificarExcepcion(type, message, formattedStackTrace, formattedTimestamp, dialog){

    switch(dialog){
        case 1:
            PF('exceptionDialogWV').show();
            break;
        case 2:
        case 3:
            PF('businessExceptionDialogWV').show();
            break;
        case 4:
            PF('viewExpiredExceptionDialogWV').show();
            break;
    }

    $.post('#{request.contextPath}/notificador-de-error',
            {
                he  : true,
                tp  : type,
                msg : message,
                st  : formattedStackTrace,
                et  : formattedTimestamp
            },
            null);
}
            </h:outputScript>
		</h:form>
	</ui:define>

	<ui:define name="menuTareasUsuario">
		<h:form id="menuUsuarioForm">
			<p:menu>
				<p:menuitem value="Perfil" onclick="PF('infoPerfil').show()"
					icon="ui-icon-person" />
				<p:menuitem value="Cerrar sesión"
					url="/contenido/seguridad/logout.xhtml"
					onclick="PF('pollWV').stop()" icon="ui-icon-locked" />
			</p:menu>
		</h:form>
	</ui:define>

	<ui:define name="bodyExtra">
		<h:outputScript target="body">
function mymessages() {
    setTimeout(function() { $('[id$=messages_generales]').hide(200); }, 5500);
}

function mymessagesTable() {
    setTimeout(function() { $('[id$=messagesTable]').hide(200); }, 5500);
}

function scrollToAnchor() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=messages_generales]').offset().left
    }, 100);
}
function scrollToAnchorVisualizar() {
    jQuery('html, body').animate({
            scrollTop:  $('[id$=visualizarDoc]').offset().top
        }, 100);
}

function scrollToAnchorPanelNuevo() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=irPanelNuevo]').offset().top
    }, 100);
}

function scrollToAnchorPanelActualizar() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=irPanelActualizar]').offset().top
    }, 100);
}

function scrollToAnchorPanel() {
    jQuery('html, body').animate({
        scrollTop:  $('[id$=irPanel]').offset().top
    }, 100);
}

/**
 * Este método permite cambiar el foco de un inputText al siguiente después de 
 * haber presionado la tecla "Enter".
 * url: http://stackoverflow.com/questions/1009808/enter-key-press-behaves-like-a-tab-in-javascript
 */
$('body').on('keydown', 'input, select, textarea', function(e) {
    var self = $(this),
        form = self.parents('form:eq(0)'),
        focusable,
        next,
        prev;

    if (e.shiftKey) {
        if (e.keyCode == 13) {
            focusable =   form.find('input,a,select,button,textarea').filter(':visible');
            prev = focusable.eq(focusable.index(this)-1); 

            if (prev.length) {
                prev.focus();
            } else {
                form.submit();
            }
        }
    } else if (e.keyCode == 13) {
        focusable = form.find('input,a,select,button,textarea').filter(':visible');
        next = focusable.eq(focusable.index(this)+1);
        if (next.length) {
            next.focus();
        } else {
            form.submit();
        }
        return false;
    }
});

$(document).ready(function() {

    // Después de que la página carga se abre el menú automáticamente 
    // si es un dipositivo mobile no se abrirá
    if(!ThemeFM2.isMobile()) {
        ThemeFM2.toggleSidebarButton();
    }
});
        </h:outputScript>

		<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
			closable="false" resizable="false" showHeader="false">
			<p:outputLabel value="Procesando..." />
			<br />
			<p:graphicImage library="imagenes" name="load.gif" />
		</p:dialog>
	</ui:define>

	<ui:param name="pieDesarrollo" value="FOLF Asesores" />
	<ui:param name="pieVersion" value="0.0.1" />
</ui:composition>
