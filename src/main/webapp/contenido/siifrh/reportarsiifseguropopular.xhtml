<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/plantillas/principal-con-menu.xhtml">

	<ui:param name="ventanaTitulo" value="Importar Seguro Popular" />
	<ui:param name="moduloTitulo" value="Importar Seguro Popular a SIIF" />
	<ui:param name="moduloSubtitulo"
		value="Seleccione el archivo xls/xlsx que desea importar. Este proceso puede demorar un tiempo" />

	<ui:define name="moduloContenido">
		<h:form id="form" enctype="multipart/form-data">
			<p:growl id="growl" showDetail="true" />
			<p:panelGrid columns="1"
						 styleClass="ui-responsive"
						 layout="grid">
				<p:row>
					<p:column>
						<p:fileUpload id="dat" value="#{reportarSiifSeguroPopular.view.datSP}"
							mode="simple" label="Seleccionar Archivo xls/xlsx"
							allowTypes="/(\.|\/)(xls|xlsx)$/"
							requiredMessage="El Archivo XLS es requerido"
							invalidFileMessage="El Archivo debe tener la extención XLS/XLSX"
							skinSimple="true" />
					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:commandButton value="Procesar" ajax="false" update=":form"
							action="#{reportarSiifSeguroPopular.uploadFileSP}" />

						<p:commandButton id="Cancelar" value="Cancelar"
							style="float:right;"
		                 	styleClass="fm-btn-elevdo"
							action="#{reportarSiifSeguroPopular.cancelar}" />
					</p:column>
				</p:row>
			</p:panelGrid>
			
			<p:outputPanel layout="grid" id="panelDeudores" >
				<h1 class="title ui-widget-header ui-corner-all" style="color:black;">Importar Deudores Diversos a SIIF</h1>
				<p:panelGrid columns="1" styleClass="ui-responsive" layout="grid" >
					<p:row>
						<p:column>
							<p:fileUpload id="dat1" value="#{reportarSiifSeguroPopular.view.datDeudores}"
								mode="simple" label="Seleccionar Archivo xls/xlsx"
								allowTypes="/(\.|\/)(xls|xlsx)$/"
								requiredMessage="El Archivo XLS es requerido"
								invalidFileMessage="El Archivo debe tener la extención XLS/XLSX"
								skinSimple="true" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:commandButton value="Procesar" ajax="false" update=":form"
								action="#{reportarSiifSeguroPopular.uploadFileDeudores}" />

							<p:commandButton id="Cancelar1" value="Cancelar"
								style="float:right;"
		                 		styleClass="fm-btn-elevdo"
								action="#{reportarSiifSeguroPopular.cancelar}" />
						</p:column>
					</p:row>
				</p:panelGrid>
				</p:outputPanel>
				
				<p:outputPanel layout="grid" id="panelDispersion" >
				<h1 class="title ui-widget-header ui-corner-all" style="color:black;">Importar Dispersion de Cheques a SIIF</h1>
				<p:panelGrid columns="1" styleClass="ui-responsive" layout="grid" >
					<p:row>
						<p:column>
							<p:fileUpload id="dat2" value="#{reportarSiifSeguroPopular.view.inputDispersion}"
								mode="simple" label="Seleccionar Archivo xls/xlsx"
								allowTypes="/(\.|\/)(xls|xlsx)$/"
								requiredMessage="El Archivo XLS es requerido"
								invalidFileMessage="El Archivo debe tener la extención XLS/XLSX"
								skinSimple="true" />
						</p:column>
					</p:row>
					<p:row>
						<p:column>
							<p:commandButton value="Procesar" ajax="false" update=":form"
								action="#{reportarSiifSeguroPopular.uploadFileDispersion}" />

							<p:commandButton id="Cancelar2" value="Cancelar"
								style="float:right;"
		                 		styleClass="fm-btn-elevdo"
								action="#{reportarSiifSeguroPopular.cancelar}" />
						</p:column>
					</p:row>
				</p:panelGrid>
			
			</p:outputPanel>
			
		</h:form>
		
		<p:ajaxStatus onstart="PF('statusDialog').show()"
				onsuccess="PF('statusDialog').hide()" />

			<p:dialog widgetVar="statusDialog" modal="true" draggable="false"
				closable="false" resizable="false" showHeader="false">
				<p:outputLabel value="Procesando..." />
				<br />
				<p:graphicImage library="imagenes" name="load.gif" />
			</p:dialog>
		
	</ui:define>
</ui:composition>
